@import url('https://fonts.googleapis.com/css?family=Cormorant+Garamond:300,400,600|Tulpen+One&display=swap');
 :root {
	/* colors */
	 --body-bg: #fafafa;
	 --page-bg: #f5f5f5;
	 --cover-bg: #ff0000;
	 --dark-text: #2a2935;
	/* spacing */
	/* this is what defines the global scale */
	 --baseline: 18px;
	/* fonts */
	 --book-title: 'Tulpen One', sans-serif;
	 --title: 'Cormorant Garamond', serif;
	 --body: 'Cormorant Garamond', serif;
	 --base-size: var(--baseline) * 1.2;
}
 * {
	 box-sizing: border-box;
}

 body {
	 background-color: var(--body-bg);
	 height: 100vh;
	 display: flex;
	 flex-direction: column;
	 align-items: center;
	 justify-content: center;
}
.cover {
	width: calc(var(--baseline) * 60);
	height: calc(var(--baseline) * 42.6);
	box-shadow: 0 0 100px rgba(0, 0, 0, .3);
	border: var(--baseline) solid var(--cover-bg);

	.book {
		width: 100%;
		height: 100%;
		display: flex;
		perspective: 1200px;
		flex-direction: row-reverse;
		transform-style: preserve-3d;

		.paper {
			position: absolute;
			width: 50%;
			height: 100%;
			display: grid;
			transform: rotateY(0deg) translateZ(-2px);
			transition: transform 0.9s cubic-bezier(0.645, 0.045, 0.355, 1);
			transform-origin: 0% 0%;
			background-color: var(--page-bg);
			background-image: linear-gradient(90deg, rgba(227, 227, 227, 1) 0%, rgba(247, 247, 247, 0) 18%);
			cursor: pointer;
			transform-style: preserve-3d;

			&.flip {
				transition: transform 0.9s cubic-bezier(0.645, 0.045, 0.355, 1);
				transform: rotateY(-180deg) translateZ(2px);

				&.last-flipped {
					transform: rotateY(-180deg) translateZ(-2px);
				}
			}
			&.first-not-flipped {
				transform: rotateY(0deg) translateZ(2px);
			}
			.front {
				position: absolute;
				width: 100%;
				height: 100%;
				transform: rotateY(0deg) translateZ(1px);
			}
			.back {
				position: absolute;
				width: 100%;
				height: 100%;
				transform: rotateY(180deg) translateZ(1px);
			}
			.page-content {
				padding: var(--baseline);
				height: 100%;
				position: relative;
				text-align: center;
				display: flex;
				flex-direction: column;

				.title {
					font-family: var(--book-title);
					font-size: calc(var(--base-size) * 3);
					font-weight: bold;
					text-transform: uppercase;
					letter-spacing: 3px;
					color: var(--dark-text);
					margin-top: calc(var(--baseline) * 5);
					margin-bottom: calc(var(--baseline) * 2);

					&.paragraph {
						font-size: calc(var(--base-size) * 1.5);
					}
				}
				.author {
					font-family: var(--title);
					font-size: calc(var(--base-size) * 1.2);
					font-weight: 100;
					text-transform: uppercase;
					color: var(--dark-text);
					border-top: 1px solid var(--dark-text);
					border-bottom: 1px solid var(--dark-text);
					display: inline-block;
					padding: calc(var(--baseline) / 2) calc(var(--baseline) / 5);
					margin-bottom: calc(var(--baseline) * 6);
				}
				.table-of-contents {
					.content-item {
						display: flex;
						flex-direction: row;
						justify-content: space-between;
					}
				}
				.page-number {
					margin-top: auto;
				}
				.loader-container {
					display: flex;
					justify-content: center;
					padding-top: calc(var(--baseline) * 4);
				}
			}
		}
	}
}
.tesseract {
	position: relative;
	width: 200px;
	height: 200px;

	.shape {
		width: 100px;
		height: 100px;

		.cube {
			position: relative;
			transition:transform .5s;
			transform-style: preserve-3d;

			&.outer {
				width: 200px;
				height: 200px;
				transform-style: preserve-3d;
				animation: spin 4s infinite cubic-bezier(.67,.03,.31,.98);

				.side {
					position: absolute;
					width: 100%;
					height: 100%;

					font-size: 30px;
					line-height: 100px;
					text-align: center;
					opacity: .9;
					transition: all .2s linear;
					border: 1px solid #015477;

					background: rgba(101, 184, 219, 0.5);
					box-shadow: inset 0 0 100% 0 rgba(1, 84, 119, .5);
					box-sizing: border-box;

					&.left {
						transform: translateX(-100px) rotateY(-90deg);
					}
					&.right {
						transform: translateX(100px) rotateY(90deg);
					}
					&.top {
						transform: translateY(-100px) rotateX(90deg);
					}
					&.bottom {
						transform: translateY(100px) rotateX(-90deg);
					}
					&.front {
						transform: translateZ(100px);
					}
					&.back {
						transform: translateZ(-100px) rotateY(180deg);
					}
				}
				& > .cube {
					width: 100px;
					height: 100px;
					transform: translateX(50px) translateY(50px);
					animation: spin-inner 4s infinite cubic-bezier(.67,.03,.31,.98);

					.side {
						background: rgba(255, 255, 255, 0.25);

						&.left {
							transform: translateX(-50px) rotateY(-90deg);
						}
						&.right {
							transform: translateX(50px) rotateY(90deg);
						}
						&.top {
							transform: translateY(-50px) rotateX(90deg);
						}
						&.bottom {
							transform: translateY(50px) rotateX(-90deg);
						}
						&.front {
							transform: translateZ(50px);
						}
						&.back {
							transform: translateZ(-50px) rotateY(180deg);
						}
					}
				}
			}
		}
	}
	@keyframes spin {
		0% {
			transform: rotateX(0deg) rotateY(0deg);
		}
		33.333% {
			transform: rotateX(-35deg) rotateY(-45deg);
		}
		66.666% {
			transform: rotateX(-35deg) rotateY(45deg);
		}
		100% {
			transform: rotateX(0deg) rotateY(0deg);
		}
	}

	@keyframes spin-inner {
		0% {
			transform: translateX(50px) translateY(50px) rotateY(0deg) rotateX(90deg);
		}
		33.333% {
			transform: translateX(50px) translateY(50px) rotateY(90deg) rotateX(90deg);
		}
		66.666% {
			transform: translateX(50px) translateY(50px) rotateY(-90deg) rotateX(90deg);
		}
		100% {
			transform: translateX(50px) translateY(50px) rotateY(0deg) rotateX(90deg);
		}
	}
}

